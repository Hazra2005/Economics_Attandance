<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attendance System</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:'Poppins',sans-serif;
background:linear-gradient(135deg,#4e73df,#1cc88a);
display:flex;
justify-content:center;
align-items:center;
min-height:100vh;
padding:20px;
}

.wrapper{
width:100%;
max-width:400px;
}

.title-box{
background:white;
padding:20px;
border-radius:20px;
text-align:center;
margin-bottom:20px;
box-shadow:0 10px 25px rgba(0,0,0,0.2);
}

.title-box h1{
font-size:22px;
color:#4e73df;
font-weight:700;
}

.login-box{
background:white;
padding:25px;
border-radius:20px;
box-shadow:0 15px 35px rgba(0,0,0,0.3);
}

.login-box h3{
text-align:center;
margin-bottom:20px;
color:#444;
font-weight:600;
}

.role-buttons{
display:flex;
gap:10px;
margin-bottom:20px;
}

.role-buttons button{
flex:1;
padding:12px;
border-radius:12px;
border:none;
font-weight:600;
cursor:pointer;
color:white;
transition:0.3s;
}

.admin-btn{background:#4e73df;}
.student-btn{background:#1cc88a;}

.admin-btn:hover{background:#2e59d9;}
.student-btn:hover{background:#17a673;}

input{
width:100%;
padding:12px;
border-radius:12px;
border:1px solid #ddd;
margin-bottom:15px;
}

/* Password Wrapper */
.password-wrapper{
position:relative;
}

.password-wrapper input{
padding-right:60px;
margin-bottom:0;
}

.toggle-btn{
position:absolute;
right:10px;
top:50%;
transform:translateY(-50%);
background:none;
border:none;
color:#4e73df;
font-weight:600;
cursor:pointer;
font-size:13px;
}

/* Remember */
.remember{
display:flex;
align-items:center;
gap:8px;
margin:15px 0;
font-size:14px;
cursor:pointer;
}

.remember input{
width:16px;
height:16px;
margin:0;
cursor:pointer;
}

.remember label{
cursor:pointer;
user-select:none;
}

.login-btn{
width:100%;
padding:12px;
border-radius:12px;
border:none;
background:#4e73df;
color:white;
font-weight:600;
cursor:pointer;
}

.login-btn:hover{background:#2e59d9;}

.hidden{display:none;}
</style>
</head>

<body>

<div class="wrapper">

<div class="title-box">
<h1>Attendance System üìò</h1>
</div>

<div class="login-box">

<h3>Login As</h3>

<div class="role-buttons">
<button class="admin-btn" onclick="showAdmin()">Admin üë®üèª‚Äçüíº</button>
<button class="student-btn" onclick="goStudent()">Student üéì</button>
</div>

<div id="adminSection" class="hidden">

<input type="text" id="username" placeholder="Username">

<div class="password-wrapper">
<input type="password" id="password" placeholder="Password">
<button type="button" class="toggle-btn" onclick="togglePassword()">Show</button>
</div>

<div class="remember">
<input type="checkbox" id="remember">
<label for="remember">Remember Me</label>
</div>

<button class="login-btn" onclick="adminLogin()">Login</button>

</div>

</div>

</div>

<script>

const SCRIPT_URL="https://script.google.com/macros/s/AKfycbyLZWOug-UBtNm9hRbPDNT7UJtYtETAF4Vq7iPV_Wnmc38D_Wyyxpy4rq-0a37T3i7pVQ/exec";function showAdmin(){
document.getElementById("adminSection").classList.remove("hidden");
}

function goStudent(){
window.location.href="student.html";
}

/* üî• Show / Hide Password */
function togglePassword(){
let pass=document.getElementById("password");
let btn=document.querySelector(".toggle-btn");

if(pass.type==="password"){
pass.type="text";
btn.innerText="Hide";
}else{
pass.type="password";
btn.innerText="Show";
}
}

function adminLogin(){

let user=document.getElementById("username").value;
let pass=document.getElementById("password").value;
let remember=document.getElementById("remember").checked;

fetch(SCRIPT_URL,{
method:"POST",
body:JSON.stringify({
action:"login",
username:user,
password:pass
})
})
.then(res=>res.json())
.then(data=>{

if(data.status==="success"){

if(remember){
localStorage.setItem("savedUser",user);
localStorage.setItem("savedPass",pass);
}else{
localStorage.removeItem("savedUser");
localStorage.removeItem("savedPass");
}

sessionStorage.setItem("adminLoggedIn","true");
window.location.href="admin.html";

}else{
alert("Invalid Username or Password ‚ùå");
}

});
}

window.onload=function(){
let savedUser=localStorage.getItem("savedUser");
let savedPass=localStorage.getItem("savedPass");

if(savedUser && savedPass){
document.getElementById("username").value=savedUser;
document.getElementById("password").value=savedPass;
document.getElementById("remember").checked=true;
document.getElementById("adminSection").classList.remove("hidden");
}
}

</script>

</body>
</html>
